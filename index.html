<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="noindex">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="Earth Viewer 360">
<meta name="description" content="StreetView and Google Maps, side by side. Click the Map window anywhere in the world and immediately see a 360 panorama of that spot in the StreetView window. Click on the roof of a house in the map window and see what the house looks like from the street in the StreetView window.">
<meta name="keywords" content="panorama, earth, streetview, maps, spin, fun, realty, realtor, house, explore, world, views, travel, 360 degrees">

<meta name="author" content="Joel Fiser">

<title>Earth Viewer 360</title>
<style>
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-y: hidden
}
  
#mainHolder{
  width:100%;
  height:100%;
}
  
  #map, #pano {
    height: 100%;
    width: 100%;
    position:absolute;
  }
  #middleBar{
    height:43px;
    width:43px;
    background: black;
    position:absolute;
    left:48%;
    top:48%;
    z-index:10;
    cursor: e-resize;
  }

/* searchPlaces */
    .controls {
        margin-top: 10px;
        border: 1px solid transparent;
        border-radius: 2px 0 0 2px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        height: 32px;
        outline: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      }

      #pac-input {
        background-color: #fff;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        margin-left: 12px;
        padding: 0 11px 0 13px;
        text-overflow: ellipsis;
        width: 300px;
      }

      #pac-input:focus {
        border-color: #4d90fe;
      }

      .pac-container {
        font-family: Roboto;
      }

      #type-selector {
        color: #fff;
        background-color: #4d90fe;
        padding: 5px 11px 0px 11px;
      }

      #type-selector label {
        font-family: Roboto;
        font-size: 13px;
        font-weight: 300;
      }
      #target {
        width: 345px;
      }
      /*    */
      #txtBox{
        width: 200px;
        height: 40px;
        position: fixed;
        z-index: 100;
        background:white;
        display:none;
      }
      /** end searchPlaces */

.middleBarBtn{
  text-align: center;
  position:relative;
  width:39px;
  height:39px;
  background:#0099ff;
  /*border-bottom: 1px solid black;*/
  line-height:35px;
  margin-left:2px;
  margin-top:2px;
  cursor: pointer;
}
.middleBarBtnIcons{
  width:25px;
  height:25px;
  position:relative;
  line-height: 35px;
  vertical-align: middle;
  text-align: center;
}
#homeBtn{
  position:relative;
}
#playBtn{
  position:relative;
}
#playIcon{
  display:none;
}

/**** tooltip  ****/

/* Tooltip container */
.tooltip {
    position: relative;
    display: inline-block;
    border-bottom: 1px dotted black; /* If you want dots under the hoverable text */
}

/* Tooltip text */
.tooltip .tooltiptext {
    visibility: hidden;
    width: 165px;
    background-color: rgba(0,0,0,.7);
    color: #fff;
    text-align: center;
    padding: 3px 0;
    /*border-radius: 6px;*/
    margin-left:10px;
    /* Position the tooltip text - see examples below! */
    position: absolute;
    z-index: 1;
    font-family: "arial", sans-serif;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
    visibility: visible;
}
/**** tooltip  ****/

</style>
</head>
<body>

<div id="txtBox">xzxz xcxc</div>
<input id="pac-input" class="controls" type="text" placeholder="Search Box">
<div id="mainHolder">
  <div id="map"></div>
  <div id="middleBar">
    <div id="homeBtn" class="middleBarBtn tooltip">
      <img src="./img/homeIcon.png" class="middleBarBtnIcons"/>
      <span class="tooltiptext">Your location Now</span>
    </div>

    <div id="playBtn" class="middleBarBtn tooltip">
      <img id="pauseIcon" src="./img/pauseIcon.png" class="middleBarBtnIcons"/>
      <img id="playIcon" src="./img/playIcon.png" class="middleBarBtnIcons"/>
      <span class="tooltiptext">Start / stop spinning</span>
    </div>
    <div id="bidesEyeBtn" class="middleBarBtn tooltip">
      <img src="./img/birdsEyeIcon2.png" class="middleBarBtnIcons"/>
      <span class="tooltiptext">Bird's eye view</span>
    </div>
  </div>
  <div id="pano"></div>

</div>


  <script src="./js/jquery-3.0.0.min.js"></script>
  <script src=./js/hammer.min.js></script>
  <script src="./js/annyang.min.js"></script>
  <script src="./js/Main.js"></script>
  <script src="./js/SearchPlaces.js"></script>
  <script src="./js/StreetView.js"></script>
  <script src="./js/MiddleBar.js"></script>
  <script src="./js/MapView.js"></script>
  <script src="./js/SpeechRecognition.js"></script>

<script>
  var main, input;

  function showStreet(_latLongObj) {
    //var fenway = {lat: 42.345573, lng: -71.098326};
    //console.log("showStreet lat/long: " + _latLongObj.coords.latitude + ":" + _latLongObj.coords.longitude);
    var latLongObj = {lat:_latLongObj.coords.latitude, lng:_latLongObj.coords.longitude};
    //var latLongObj = {lat: 42.345573, lng: -71.098326};;
    input = document.getElementById('pac-input');
    main = new Main(latLongObj);

  }

  function getCurLoc(){
      console.log("getCurLoc");
      if (navigator.geolocation){
        console.log("newz - xxxyyy");
        navigator.geolocation.getCurrentPosition(showStreet, getLocError);
        console.log("newz - after");
          //showStreet({lat: 42.345573, lng: -71.098326});
      }
      else{
        console.log("nnn");
        var obj1 = {latitude:40.73685214795608, longitude:-73.99154663085938};
        var obj2 = {coords:obj1};
        showStreet(obj2);
      }
  }
  function getLocError(err) {
    console.warn('ERROR(' + err.code + '): ' + err.message);
    var obj1 = {latitude:40.73685214795608, longitude:-73.99154663085938};
    var obj2 = {coords:obj1};
    showStreet(obj2);
    switch(err.code) {
        case err.PERMISSION_DENIED:
            console.warn("User denied the request for Geolocation.");
            break;
        case err.POSITION_UNAVAILABLE:
            console.warn("Location information is unavailable.");
            break;
        case err.TIMEOUT:
            console.warn("The request to get user location timed out.");
            break;
        case err.UNKNOWN_ERROR:
            console.warn("An unknown error occurred.");
            break;
        default:
            console.warn("An unknown error occurred (default).");
            break;

    }
  }

</script>
  <script 
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlPrs2egoZrLaWiYzG_qAx88PpeDin5oE&callback=getCurLoc&libraries=places">
  </script>
  <!--<script src=./js/plugins/CSSPlugin.min.js>
  </script><script src=./js/plugins/ThrowPropsPlugin.min.js>
  </script><script src=./js/EasePack.min.js></script>
  <script src=./js/utils/Draggable.min.js></script>-->
</body>
</html>